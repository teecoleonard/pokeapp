<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()" fill="clear">
        <ion-icon name="arrow-back" slot="icon-only" color="light"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title color="light">‚öôÔ∏è Configura√ß√µes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <!-- Apar√™ncia -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>üé® Apar√™ncia</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      
      <ion-item>
        <ion-label>Tema</ion-label>
        <ion-select 
          [(ngModel)]="settings.theme" 
          (ionChange)="onThemeChange()"
          interface="popover">
          <ion-select-option *ngFor="let option of themeOptions" [value]="option.value">
            {{ option.label }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>
          <h2>Anima√ß√µes</h2>
          <p>Ativar anima√ß√µes na interface</p>
        </ion-label>
        <ion-toggle [(ngModel)]="settings.showAnimations" (ionChange)="saveSettings()"></ion-toggle>
      </ion-item>

      <ion-item>
        <ion-label>Idioma</ion-label>
        <ion-select 
          [(ngModel)]="settings.language" 
          (ionChange)="onLanguageChange()"
          interface="popover">
          <ion-select-option *ngFor="let option of languageOptions" [value]="option.value">
            {{ option.label }}
          </ion-select-option>
        </ion-select>
      </ion-item>

    </ion-card-content>
  </ion-card>

  <!-- Notifica√ß√µes -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>üîî Notifica√ß√µes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      
      <ion-item>
        <ion-label>
          <h2>Notifica√ß√µes Push</h2>
          <p>Receber notifica√ß√µes sobre novos Pok√©mon</p>
        </ion-label>
        <ion-toggle [(ngModel)]="settings.notifications" (ionChange)="saveSettings()"></ion-toggle>
      </ion-item>

      <ion-item>
        <ion-label>
          <h2>Efeitos Sonoros</h2>
          <p>Sons ao interagir com a aplica√ß√£o</p>
        </ion-label>
        <ion-toggle [(ngModel)]="settings.soundEffects" (ionChange)="saveSettings()"></ion-toggle>
      </ion-item>

    </ion-card-content>
  </ion-card>

  <!-- Cache e Performance -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>üíæ Cache e Performance</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      
      <ion-item>
        <ion-label>
          <h2>Cache Autom√°tico</h2>
          <p>Armazenar dados para acesso offline</p>
        </ion-label>
        <ion-toggle [(ngModel)]="settings.autoCache" (ionChange)="saveSettings()"></ion-toggle>
      </ion-item>

      <ion-item>
        <ion-label>Tamanho M√°ximo do Cache</ion-label>
        <ion-select 
          [(ngModel)]="settings.maxCacheSize" 
          (ionChange)="saveSettings()"
          interface="popover">
          <ion-select-option *ngFor="let option of cacheSizeOptions" [value]="option.value">
            {{ option.label }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <!-- Estat√≠sticas do Cache -->
      <div class="cache-stats">
        <h3>üìä Estat√≠sticas do Cache</h3>
        
        <ion-grid>
          <ion-row>
            <ion-col size="4">
              <div class="stat-item">
                <h4>{{ formatBytes(cacheStats.currentSize) }}</h4>
                <p>Usado</p>
              </div>
            </ion-col>
            <ion-col size="4">
              <div class="stat-item">
                <h4>{{ cacheStats.totalItems }}</h4>
                <p>Itens</p>
              </div>
            </ion-col>
            <ion-col size="4">
              <div class="stat-item">
                <h4>{{ formatDate(cacheStats.lastCleared) }}</h4>
                <p>√öltima Limpeza</p>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-button expand="block" fill="outline" (click)="clearCache()">
          <ion-icon name="trash" slot="start"></ion-icon>
          Limpar Cache
        </ion-button>
      </div>

    </ion-card-content>
  </ion-card>

  <!-- Atualiza√ß√µes -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>üîÑ Atualiza√ß√µes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      
      <ion-item>
        <ion-label>
          <h2>Atualiza√ß√µes Autom√°ticas</h2>
          <p>Verificar automaticamente por atualiza√ß√µes</p>
        </ion-label>
        <ion-toggle [(ngModel)]="settings.autoUpdate" (ionChange)="saveSettings()"></ion-toggle>
      </ion-item>

      <ion-button expand="block" fill="outline">
        <ion-icon name="refresh" slot="start"></ion-icon>
        Verificar Atualiza√ß√µes
      </ion-button>

    </ion-card-content>
  </ion-card>

  <!-- Desenvolvedor -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>üë®‚Äçüíª Desenvolvedor</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      
      <ion-item>
        <ion-label>
          <h2>Modo Debug</h2>
          <p>Ativar logs detalhados (apenas desenvolvedores)</p>
        </ion-label>
        <ion-toggle [(ngModel)]="settings.debugMode" (ionChange)="saveSettings()"></ion-toggle>
      </ion-item>

    </ion-card-content>
  </ion-card>

  <!-- A√ß√µes -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>üîß A√ß√µes</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      
      <ion-button expand="block" fill="outline" (click)="resetSettings()">
        <ion-icon name="refresh" slot="start"></ion-icon>
        Resetar Configura√ß√µes
      </ion-button>

      <ion-button expand="block" fill="outline" (click)="exportSettings()">
        <ion-icon name="download" slot="start"></ion-icon>
        Exportar Configura√ß√µes
      </ion-button>

    </ion-card-content>
  </ion-card>

</ion-content> 